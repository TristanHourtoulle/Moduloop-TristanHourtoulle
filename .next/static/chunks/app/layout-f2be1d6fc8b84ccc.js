(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{46075:function(e,s,t){Promise.resolve().then(t.bind(t,10158)),Promise.resolve().then(t.t.bind(t,63091,23)),Promise.resolve().then(t.bind(t,56288))},10158:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return m}});var n=t(3827),a=t(8792),l=t(47907),r=t(64090),c=t(56288);let i=()=>(0,n.jsx)("div",{className:"bg-[#30c1bd] flex items-center justify-center px-7 py-3 rounded-[8px] transition-all hover:opacity-50 cursor-pointer",children:(0,n.jsx)(a.default,{href:"/pages/login",children:(0,n.jsx)("p",{className:"text-lg font-medium text-white",children:"Se connecter"})})});var o=t(20703);let d=()=>(0,n.jsx)(a.default,{href:"/",className:"flex gap-2 flex-center nav-logo",children:(0,n.jsx)(o.default,{src:"/icons/logo.png",alt:"Moduloop Logo",width:150,height:150,className:"object-contain"})}),u=()=>(0,n.jsx)("div",{className:"flex items-center justify-center bg-white border-2 border-[#30c1bd] rounded-[8px] px-7 py-3 transition-all hover:opacity-50 cursor-pointer",children:(0,n.jsx)(a.default,{href:"/pages/register",children:(0,n.jsx)("p",{className:"text-[#30c1bd] text-lg",children:"S'inscrire"})})}),f=r.forwardRef(function(e,s){let{title:t,titleId:n,...a}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),t?r.createElement("title",{id:n},t):null,r.createElement("path",{fillRule:"evenodd",d:"M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"}))}),h=r.forwardRef(function(e,s){let{title:t,titleId:n,...a}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),t?r.createElement("title",{id:n},t):null,r.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))});var p=t(57224),m=()=>{let e=(0,l.usePathname)(),[s,t]=(0,r.useState)("/"),[o,m]=(0,r.useState)(!1),[x,g]=(0,r.useState)(null),[j,b]=(0,r.useState)(!1),[v,w]=(0,r.useState)(e),N=()=>{m(!o)},y=async()=>{try{await (0,p.kS)()}catch(e){console.error("Error logging out:",e),c.toast.error("Erreur lors de la d\xe9connexion")}finally{c.toast.success("D\xe9connexion r\xe9ussie"),window.location.href="/"}};return(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/session",{method:"GET",headers:{"Content-Type":"application/json"}}),s=await e.json();g(s.session)}catch(e){console.error("Error fetching session:",e)}})(),v.includes("projects")?t("/pages/projects"):v.includes("products")?t("/pages/products"):v.includes("users")?t("/pages/users"):t("/")},[]),(0,r.useEffect)(()=>{x&&x.user&&"admin"===x.user.role?b(!0):b(!1)},[x]),x?(0,n.jsxs)("div",{className:"flex items-center justify-between h-24 w-full px-7 py-2",children:[(0,n.jsx)(d,{}),(0,n.jsx)("div",{className:"hidden sm:flex",children:(0,n.jsxs)("div",{className:"flex items-center gap-7",children:[(0,n.jsx)(a.default,{href:"/",onClick:()=>{t("/")},className:"nav-link ".concat("/"===s?"nav-link-selected":"link-to-scale"),children:"Accueil"}),x&&x.user&&(0,n.jsx)(a.default,{href:"/pages/projects",onClick:()=>{t("/pages/projects")},className:"nav-link ".concat("/pages/projects"===s?"nav-link-selected":"link-to-scale"),children:"Projets"}),j&&(0,n.jsx)(a.default,{href:"/pages/products",onClick:()=>{t("/pages/products")},className:"nav-link ".concat("/pages/products"===s?"nav-link-selected":"link-to-scale"),children:"Produits"}),j&&(0,n.jsx)(a.default,{href:"/pages/users",onClick:()=>{t("/pages/users")},className:"nav-link ".concat("/pages/users"===s?"nav-link-selected":"link-to-scale"),children:"Utilisateurs"}),(0,n.jsx)(a.default,{href:"https://www.moduloop.com/contact/",onClick:e=>{e.preventDefault();let s=window.open("https://www.moduloop.com/contact/","_blank");s&&(s.opener=null),window.location.href="/"},children:(0,n.jsx)("p",{className:"nav-link",children:"Contact"})}),(0,n.jsx)(a.default,{href:"",onClick:()=>{y()},className:"nav-link ".concat("/pages/users"===s?"nav-link-selected":"link-to-scale"),children:"D\xe9connexion"})]})}),(0,n.jsx)("div",{className:"flex grow items-center justify-end sm:hidden mr-3",children:(0,n.jsxs)("button",{className:"inline-flex items-center justify-center rounded-md bg-white p-2 text-gray-400   hover:bg-gray-100 hover/text-gray-500 focus:outline-none focus:ring-inset focus:ring-indigo-500",onClick:N,children:[(0,n.jsx)("span",{className:"sr-only",children:"Ouvrir le menu"}),(0,n.jsx)(f,{className:"h-6 w-6","aria-hidden":"true"})]})}),o&&(0,n.jsx)("div",{className:"fixed inset-0 bg-black opacity-30"}),o&&(0,n.jsx)("div",{className:"absolute inset-x-0 top-0 transform p-2 transition md:hidden rounded-xl mobile-menu",children:(0,n.jsx)("div",{className:"rounder-lg bg-white shadow-lg ring-1 ring-black ring-opacity-5 divide-y-2 divide-gray-50 mobile-menu",children:(0,n.jsxs)("div",{className:"px-5 pt-5 pb-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)(d,{}),(0,n.jsx)("div",{className:"-mr-2",children:(0,n.jsxs)("button",{className:"inline-flex items-center justify-center rounded-md bg-white p-2   text-gray-400 hover:bg-gray-100 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset   focus:ring-indigo-500",onClick:N,children:[(0,n.jsx)("span",{className:"sr-only",children:"Fermer"}),(0,n.jsx)(h,{className:"h-6 w-6","aria-hidden":"true"})]})})]}),(0,n.jsx)("div",{className:"mt-6 ml-3",children:(0,n.jsxs)("nav",{className:"grid gap-y-8",children:[(0,n.jsx)(a.default,{href:"/",className:"",children:(0,n.jsx)("p",{className:"text",children:"Accueil"})}),(0,n.jsx)(a.default,{href:"/pages/projects",className:"",children:(0,n.jsx)("p",{className:"text",children:"Projets"})}),j&&(0,n.jsx)(a.default,{href:"/pages/products",className:"",children:"Produits"}),j&&(0,n.jsx)(a.default,{href:"/pages/users",className:"",children:"Utilisateurs"}),(0,n.jsx)(a.default,{href:"https://www.moduloop.com/contact/",onClick:e=>{e.preventDefault();let s=window.open("https://www.moduloop.com/contact/","_blank");s&&(s.opener=null),window.location.href="/"},children:(0,n.jsx)("p",{className:"",children:"Contact"})})]})}),(0,n.jsxs)("div",{className:"mt-6 flex items-center gap-5 justify-center",children:[(0,n.jsx)(u,{}),(0,n.jsx)(i,{})]})]})})})]}):(0,n.jsxs)("div",{className:"flex items-center justify-between h-24 w-full px-7 py-2",children:[(0,n.jsx)(d,{}),(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)(u,{}),(0,n.jsx)(i,{})]})]})}},57224:function(e,s,t){"use strict";t.d(s,{Gg:function(){return l},kS:function(){return a}}),t(15355);var n=t(13472);(0,n.$)("a089af096e473eb392bf8f455b8df460c2759fc8"),(0,n.$)("edc9d95c9d80edb936c64090b673fa63c7fdb0c3"),(0,n.$)("78b55bdabf88dcd5be651d7a1d785fc3ec43e204"),(0,n.$)("7d54574caa5baa2b96b25e4c0991e44adb146ad5");var a=(0,n.$)("b17d8f6613e66b3cb3357cbd972b101329bd0326"),l=(0,n.$)("36bc73ad38d694c579e3598bd450a2a6029f558c")},8792:function(e,s,t){"use strict";t.d(s,{default:function(){return a.a}});var n=t(25250),a=t.n(n)},13472:function(e,s,t){"use strict";Object.defineProperty(s,"$",{enumerable:!0,get:function(){return a}});let n=t(15355);function a(e){let{createServerReference:s}=t(97355);return s(e,n.callServer)}},63091:function(){}},function(e){e.O(0,[202,250,288,971,69,744],function(){return e(e.s=46075)}),_N_E=e.O()}]);