(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[201],{50237:function(e,t,a){Promise.resolve().then(a.bind(a,73750))},28472:function(e,t,a){"use strict";var r=a(3827);a(64090);var s=a(20703);t.Z=()=>(0,r.jsx)("div",{className:"flex items-center justify-center my-auto",children:(0,r.jsx)(s.default,{src:"/icons/logoImage.svg",alt:"Loader",width:50,height:50,className:"loader"})})},18036:function(e,t,a){"use strict";a.r(t),a.d(t,{Title:function(){return i}});var r=a(3827),s=a(20703),c=a(47907),n=a(64090);let i=e=>{let[t,a]=(0,n.useState)(e.number||""),[i,l]=(0,n.useState)(!1),[o,d]=(0,n.useState)(""),[u,h]=(0,n.useState)(!1),m=(0,c.useRouter)();u||"/pages/projects"!==e.back||(d("/api/project"),h(!0)),(0,n.useEffect)(()=>{void 0!==e.number?a(e.number||""):null===e.number&&a("")},[e.number]);let p=async()=>{try{let a="".concat(o,"?id=").concat(e.id_project,"&name=").concat(t);if(!(await fetch(a,{method:"PUT"})).ok)throw alert("ERROR"),Error("Erreur lors de la modification du titre");l(!1)}catch(e){console.error(e),alert("Erreur lors de la modification du titre")}},f=()=>{a(e.number||""),l(!1)};return(0,r.jsxs)("div",{className:"flex ml-5 gap-5 items-center",children:[(0,r.jsx)("div",{className:"cursor-pointer",onClick:()=>{m.back()},children:(0,r.jsx)(s.default,{src:e.image,alt:"Page Logo",width:50,height:50,className:"object-contain title-image"})}),(0,r.jsx)("h1",{className:"page-title",children:e.title}),e.canChange&&(0,r.jsxs)("div",{className:"flex gap-5",children:[i?(0,r.jsx)("input",{onChange:e=>{a(e.target.value)},type:"text",className:"title-input",value:t}):(0,r.jsx)("p",{className:"page-number",children:t}),i?(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(s.default,{src:"/icons/valid\xe9.svg",alt:"Change",width:50,height:50,className:"cursor-pointer",onClick:()=>p()}),(0,r.jsx)(s.default,{src:"/icons/close.svg",alt:"Cancel",width:50,height:50,className:"cursor-pointer",onClick:()=>f()})]}):(0,r.jsx)(s.default,{src:"/icons/Edit.svg",alt:"Change",width:50,height:50,className:"cursor-pointer",onClick:()=>l(!i)})]}),!e.canChange&&(0,r.jsx)("p",{className:"page-number",children:e.number})]})}},57224:function(e,t,a){"use strict";a.d(t,{Gg:function(){return c},kS:function(){return s}}),a(15355);var r=a(13472);(0,r.$)("a089af096e473eb392bf8f455b8df460c2759fc8"),(0,r.$)("edc9d95c9d80edb936c64090b673fa63c7fdb0c3"),(0,r.$)("78b55bdabf88dcd5be651d7a1d785fc3ec43e204"),(0,r.$)("7d54574caa5baa2b96b25e4c0991e44adb146ad5");var s=(0,r.$)("b17d8f6613e66b3cb3357cbd972b101329bd0326"),c=(0,r.$)("36bc73ad38d694c579e3598bd450a2a6029f558c")},73750:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var r=a(3827),s=a(28472),c=a(18036),n=a(57224),i=a(77731),l=a(8792),o=a(64090);function d(){let[e,t]=(0,o.useState)(null),[a,d]=(0,o.useState)(null),[u,h]=(0,o.useState)(null),[m,p]=(0,o.useState)(!0);(0,o.useEffect)(()=>{let e=async()=>{p(!0);try{let e=await fetch("/api/user/list",{method:"GET"}),a=await e.json();a.success?(t(a.data),h({title:"Utilisateurs",image:"/icons/admin.svg",number:a.data.length.toString(),back:"#",canChange:!1,id_project:void 0})):console.error("Erreur lors de la r\xe9cup\xe9ration des utilisateurs:",a.error)}catch(e){console.error("Erreur lors de la r\xe9cup\xe9ration des utilisateurs:",e)}finally{p(!1)}};(async()=>{let t=await (0,n.Gg)();if(t&&!t.user.name.includes("undefined")&&"admin"===t.user.role){d(t),e();return}window.location.href="/"})()},[]);let f=e=>new Date(e).toLocaleString("fr-FR");return(0,r.jsxs)("div",{children:[m&&(0,r.jsx)(s.Z,{}),!m&&(0,r.jsxs)("div",{className:"h-full",children:[u&&(0,r.jsx)(c.Title,{...u}),(0,r.jsx)("div",{className:"py-8 flex items-center justify-center",children:e&&e.length>0&&(0,r.jsx)("div",{className:"w-auto",children:(0,r.jsxs)("table",{className:"w-auto text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400",children:[(0,r.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Nom"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Pr\xe9nom"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Email"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3",children:"R\xf4le"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Date de cr\xe9ation"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),(0,r.jsx)("tbody",{className:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700",children:e.map((e,t)=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:e.name}),(0,r.jsx)("td",{className:"px-6 py-4",children:e.firstName}),(0,r.jsx)("td",{className:"px-6 py-4",children:e.email}),(0,r.jsx)("td",{className:"px-6 py-4",children:e.role}),(0,r.jsx)("td",{className:"px-6 py-4",children:f(e.updatedAt)}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)(l.default,{href:"/pages/users/".concat(e.id),className:"transition-all ease-in-out delay-50 text-white opacity-50 hover:opacity-100 flex items-center gap-2",children:(0,r.jsx)(i.Z,{})})})]},t))})]})})})]})]})}},87461:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var r=a(64090),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.337.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,t)=>{let a=(0,r.forwardRef)((a,n)=>{let{color:i="currentColor",size:l=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:u="",children:h,...m}=a;return(0,r.createElement)("svg",{ref:n,...s,width:l,height:l,stroke:i,strokeWidth:d?24*Number(o)/Number(l):o,className:["lucide","lucide-".concat(c(e)),u].join(" "),...m},[...t.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(h)?h:[h]])});return a.displayName="".concat(e),a}},77731:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.337.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(87461).Z)("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},8792:function(e,t,a){"use strict";a.d(t,{default:function(){return s.a}});var r=a(25250),s=a.n(r)},13472:function(e,t,a){"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return s}});let r=a(15355);function s(e){let{createServerReference:t}=a(97355);return t(e,r.callServer)}}},function(e){e.O(0,[202,250,971,69,744],function(){return e(e.s=50237)}),_N_E=e.O()}]);