(()=>{var e={};e.id=931,e.ids=[931],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},15673:e=>{"use strict";e.exports=require("node:events")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},47261:e=>{"use strict";e.exports=require("node:util")},79544:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>l});var n=t(50482),r=t(69108),a=t(62563),i=t.n(a),c=t(68300),o={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>c[e]);t.d(s,o);let l=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,40514)),"C:\\Users\\trist\\Moduloop\\Moduloop-TristanHourtoulle\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,9295)),"C:\\Users\\trist\\Moduloop\\Moduloop-TristanHourtoulle\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\trist\\Moduloop\\Moduloop-TristanHourtoulle\\app\\page.tsx"],u="/page",p={require:t,loadChunk:()=>Promise.resolve()},x=new n.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},47107:(e,s,t)=>{let n={"36bc73ad38d694c579e3598bd450a2a6029f558c":()=>Promise.resolve().then(t.bind(t,47718)).then(e=>e.getSession),"78b55bdabf88dcd5be651d7a1d785fc3ec43e204":()=>Promise.resolve().then(t.bind(t,47718)).then(e=>e.decrypt),"7d54574caa5baa2b96b25e4c0991e44adb146ad5":()=>Promise.resolve().then(t.bind(t,47718)).then(e=>e.login),a089af096e473eb392bf8f455b8df460c2759fc8:()=>Promise.resolve().then(t.bind(t,47718)).then(e=>e.updateSession),b17d8f6613e66b3cb3357cbd972b101329bd0326:()=>Promise.resolve().then(t.bind(t,47718)).then(e=>e.logout),edc9d95c9d80edb936c64090b673fa63c7fdb0c3:()=>Promise.resolve().then(t.bind(t,47718)).then(e=>e.encrypt)};async function r(e,...s){return(await n[e]()).apply(null,s)}e.exports={"36bc73ad38d694c579e3598bd450a2a6029f558c":r.bind(null,"36bc73ad38d694c579e3598bd450a2a6029f558c"),"78b55bdabf88dcd5be651d7a1d785fc3ec43e204":r.bind(null,"78b55bdabf88dcd5be651d7a1d785fc3ec43e204"),"7d54574caa5baa2b96b25e4c0991e44adb146ad5":r.bind(null,"7d54574caa5baa2b96b25e4c0991e44adb146ad5"),a089af096e473eb392bf8f455b8df460c2759fc8:r.bind(null,"a089af096e473eb392bf8f455b8df460c2759fc8"),b17d8f6613e66b3cb3357cbd972b101329bd0326:r.bind(null,"b17d8f6613e66b3cb3357cbd972b101329bd0326"),edc9d95c9d80edb936c64090b673fa63c7fdb0c3:r.bind(null,"edc9d95c9d80edb936c64090b673fa63c7fdb0c3")}},3497:(e,s,t)=>{Promise.resolve().then(t.bind(t,96562)),Promise.resolve().then(t.bind(t,34755))},24194:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,2583,23)),Promise.resolve().then(t.t.bind(t,26840,23)),Promise.resolve().then(t.t.bind(t,38771,23)),Promise.resolve().then(t.t.bind(t,13225,23)),Promise.resolve().then(t.t.bind(t,45672,23)),Promise.resolve().then(t.t.bind(t,43982,23))},11408:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,61476,23))},96562:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>f});var n=t(95344),r=t(56506),a=t(8428),i=t(3729),c=t(34755);let o=()=>n.jsx("div",{className:"bg-[#30c1bd] flex items-center justify-center px-7 py-3 rounded-[8px] transition-all hover:opacity-50 cursor-pointer",children:n.jsx(r.default,{href:"/pages/login",children:n.jsx("p",{className:"text-lg font-medium text-white",children:"Se connecter"})})});var l=t(89410);let d=()=>n.jsx(r.default,{href:"/",className:"flex gap-2 flex-center nav-logo",children:n.jsx(l.default,{src:"/icons/logo.png",alt:"Moduloop Logo",width:150,height:150,className:"object-contain"})}),u=()=>n.jsx("div",{className:"flex items-center justify-center bg-white border-2 border-[#30c1bd] rounded-[8px] px-7 py-3 transition-all hover:opacity-50 cursor-pointer",children:n.jsx(r.default,{href:"/pages/register",children:n.jsx("p",{className:"text-[#30c1bd] text-lg",children:"S'inscrire"})})});var p=t(22875),x=t(83254),b=t(92706);let f=()=>{let e=(0,a.usePathname)(),[s,t]=(0,i.useState)("/"),[l,f]=(0,i.useState)(!1),[h,m]=(0,i.useState)(null),[g,j]=(0,i.useState)(!1),[v,y]=(0,i.useState)(e),w=()=>{f(!l)},N=async()=>{try{await (0,b.kS)()}catch(e){console.error("Error logging out:",e),c.toast.error("Erreur lors de la d\xe9connexion")}finally{c.toast.success("D\xe9connexion r\xe9ussie"),window.location.href="/"}};return(0,i.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/session",{method:"GET",headers:{"Content-Type":"application/json"}}),s=await e.json();m(s.session)}catch(e){console.error("Error fetching session:",e)}})(),v.includes("projects")?t("/pages/projects"):v.includes("products")?t("/pages/products"):v.includes("users")?t("/pages/users"):t("/")},[]),(0,i.useEffect)(()=>{h&&h.user&&"admin"===h.user.role?j(!0):j(!1)},[h]),h?(0,n.jsxs)("div",{className:"flex items-center justify-between h-24 w-full px-7 py-2",children:[n.jsx(d,{}),n.jsx("div",{className:"hidden sm:flex",children:(0,n.jsxs)("div",{className:"flex items-center gap-7",children:[n.jsx(r.default,{href:"/",onClick:()=>{t("/")},className:`nav-link ${"/"===s?"nav-link-selected":"link-to-scale"}`,children:"Accueil"}),h&&h.user&&n.jsx(r.default,{href:"/pages/projects",onClick:()=>{t("/pages/projects")},className:`nav-link ${"/pages/projects"===s?"nav-link-selected":"link-to-scale"}`,children:"Projets"}),g&&n.jsx(r.default,{href:"/pages/products",onClick:()=>{t("/pages/products")},className:`nav-link ${"/pages/products"===s?"nav-link-selected":"link-to-scale"}`,children:"Produits"}),g&&n.jsx(r.default,{href:"/pages/users",onClick:()=>{t("/pages/users")},className:`nav-link ${"/pages/users"===s?"nav-link-selected":"link-to-scale"}`,children:"Utilisateurs"}),n.jsx(r.default,{href:"https://www.moduloop.com/contact/",onClick:e=>{e.preventDefault();let s=window.open("https://www.moduloop.com/contact/","_blank");s&&(s.opener=null),window.location.href="/"},children:n.jsx("p",{className:"nav-link",children:"Contact"})}),n.jsx(r.default,{href:"",onClick:()=>{N()},className:`nav-link ${"/pages/users"===s?"nav-link-selected":"link-to-scale"}`,children:"D\xe9connexion"})]})}),n.jsx("div",{className:"flex grow items-center justify-end sm:hidden mr-3",children:(0,n.jsxs)("button",{className:"inline-flex items-center justify-center rounded-md bg-white p-2 text-gray-400   hover:bg-gray-100 hover/text-gray-500 focus:outline-none focus:ring-inset focus:ring-indigo-500",onClick:w,children:[n.jsx("span",{className:"sr-only",children:"Ouvrir le menu"}),n.jsx(p.Z,{className:"h-6 w-6","aria-hidden":"true"})]})}),l&&n.jsx("div",{className:"fixed inset-0 bg-black opacity-30"}),l&&n.jsx("div",{className:"absolute inset-x-0 top-0 transform p-2 transition md:hidden rounded-xl mobile-menu",children:n.jsx("div",{className:"rounder-lg bg-white shadow-lg ring-1 ring-black ring-opacity-5 divide-y-2 divide-gray-50 mobile-menu",children:(0,n.jsxs)("div",{className:"px-5 pt-5 pb-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[n.jsx(d,{}),n.jsx("div",{className:"-mr-2",children:(0,n.jsxs)("button",{className:"inline-flex items-center justify-center rounded-md bg-white p-2   text-gray-400 hover:bg-gray-100 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset   focus:ring-indigo-500",onClick:w,children:[n.jsx("span",{className:"sr-only",children:"Fermer"}),n.jsx(x.Z,{className:"h-6 w-6","aria-hidden":"true"})]})})]}),n.jsx("div",{className:"mt-6 ml-3",children:(0,n.jsxs)("nav",{className:"grid gap-y-8",children:[n.jsx(r.default,{href:"/",className:"",children:n.jsx("p",{className:"text",children:"Accueil"})}),n.jsx(r.default,{href:"/pages/projects",className:"",children:n.jsx("p",{className:"text",children:"Projets"})}),g&&n.jsx(r.default,{href:"/pages/products",className:"",children:"Produits"}),g&&n.jsx(r.default,{href:"/pages/users",className:"",children:"Utilisateurs"}),n.jsx(r.default,{href:"https://www.moduloop.com/contact/",onClick:e=>{e.preventDefault();let s=window.open("https://www.moduloop.com/contact/","_blank");s&&(s.opener=null),window.location.href="/"},children:n.jsx("p",{className:"",children:"Contact"})})]})}),(0,n.jsxs)("div",{className:"mt-6 flex items-center gap-5 justify-center",children:[n.jsx(u,{}),n.jsx(o,{})]})]})})})]}):(0,n.jsxs)("div",{className:"flex items-center justify-between h-24 w-full px-7 py-2",children:[n.jsx(d,{}),(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[n.jsx(u,{}),n.jsx(o,{})]})]})}},92706:(e,s,t)=>{"use strict";t.d(s,{Gg:()=>a,kS:()=>r}),t(13664);var n=t(28371);(0,n.$)("a089af096e473eb392bf8f455b8df460c2759fc8"),(0,n.$)("edc9d95c9d80edb936c64090b673fa63c7fdb0c3"),(0,n.$)("78b55bdabf88dcd5be651d7a1d785fc3ec43e204"),(0,n.$)("7d54574caa5baa2b96b25e4c0991e44adb146ad5");var r=(0,n.$)("b17d8f6613e66b3cb3357cbd972b101329bd0326"),a=(0,n.$)("36bc73ad38d694c579e3598bd450a2a6029f558c")},9295:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d,metadata:()=>l});var n=t(25036);let r=(0,t(86843).createProxy)(String.raw`C:\Users\trist\Moduloop\Moduloop-TristanHourtoulle\app\components\Header.tsx`),{__esModule:a,$$typeof:i}=r,c=r.default;t(90413);var o=t(27171);let l={title:"Moduloop - Outil",description:"Calculer l'impact environnemental de votre projet de construction avec Moduloop"};function d({children:e}){return(0,n.jsxs)("html",{lang:"fr",children:[n.jsx("head",{children:n.jsx("link",{rel:"icon",href:"/icons/logoImage.svg"})}),(0,n.jsxs)("body",{children:[n.jsx("div",{className:"mb-10",style:{display:"flex",justifyContent:"center",width:"100%"},children:n.jsx(c,{})}),n.jsx(o.x,{richColors:!0,position:"top-center",expand:!1}),e]})]})}},47718:(e,s,t)=>{"use strict";t.r(s),t.d(s,{decrypt:()=>d,encrypt:()=>l,getSession:()=>x,login:()=>u,logout:()=>p,updateSession:()=>b});var n=t(74471);t(68616);var r=t(35918),a=t(7439),i=t(78070),c=t(42053);let o=new TextEncoder().encode("secret");async function l(e){return await new r.N6(e).setProtectedHeader({alg:"HS256"}).setIssuedAt().setExpirationTime("7 days from now").sign(o)}async function d(e){let{payload:s}=await (0,r._f)(e,o,{algorithms:["HS256"]});return s}async function u(e){let s=new Date(Date.now()+6048e5),t=await l({user:e,expires:s});(0,a.cookies)().set("session",t,{expires:s,httpOnly:!0})}async function p(){(0,a.cookies)().set("session","",{expires:new Date(0)})}async function x(){let e=a.cookies().get("session")?.value;if(!e)return null;try{let s=await d(e),{expires:t}=s;if(new Date(t)<new Date)return await p(),null;return s}catch(e){return console.error("Erreur lors de la r\xe9cup\xe9ration de la session:",e),null}}async function b(e){let s=e.cookies.get("session")?.value;if(!s)return;let t=await d(s);t.expires=new Date(Date.now()+6048e5);let n=i.Z.next();return n.cookies.set({name:"session",value:await l(t),httpOnly:!0,expires:t.expires}),n}(0,c.h)([l,d,u,p,x,b]),(0,n.U)("edc9d95c9d80edb936c64090b673fa63c7fdb0c3",l),(0,n.U)("78b55bdabf88dcd5be651d7a1d785fc3ec43e204",d),(0,n.U)("7d54574caa5baa2b96b25e4c0991e44adb146ad5",u),(0,n.U)("b17d8f6613e66b3cb3357cbd972b101329bd0326",p),(0,n.U)("36bc73ad38d694c579e3598bd450a2a6029f558c",x),(0,n.U)("a089af096e473eb392bf8f455b8df460c2759fc8",b)},40514:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var n=t(25036),r=t(48026),a=t.n(r);let i=()=>n.jsx("div",{className:"bg-[#30c1bd] flex items-center justify-center px-7 py-3 rounded-[8px] transition-all hover:opacity-50 cursor-pointer",children:n.jsx(a(),{href:"/pages/login",children:n.jsx("p",{className:"text-lg font-medium text-white",children:"Se connecter"})})}),c=()=>n.jsx("div",{className:"flex items-center justify-center bg-white border-2 border-[#30c1bd] rounded-[8px] px-7 py-3 transition-all hover:opacity-50 cursor-pointer",children:n.jsx(a(),{href:"/pages/register",children:n.jsx("p",{className:"text-[#30c1bd] text-lg",children:"S'inscrire"})})});var o=t(47718);async function l(){let e=await (0,o.getSession)(),s=" "+e?.user?.name,t="  "+e?.user?.firstName+" "+(s.substring(0,2)||"");return t.includes("undefined")&&(t=""),(0,n.jsxs)("div",{className:"flex flex-col items-center justify-between",children:[(0,n.jsxs)("h1",{className:"text-5xl",children:["Bonjour",n.jsx("strong",{children:t}),","]}),(0,n.jsxs)("h2",{className:"text-6xl mb-[5%]",children:[" ","Bienvenue sur l'outil"," ",n.jsx("span",{className:"text-7xl font-bold text-[#30c1bd]",children:"Moduloop"})," !"]}),!e&&(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center gap-2",children:[(0,n.jsxs)("p",{className:"text-lg",children:["Vous avez besoin d'avoir un compte pour utiliser"," ",n.jsx("strong",{children:"gratuitement"})," notre outil."]}),(0,n.jsxs)("div",{className:"flex gap-4",children:[n.jsx(i,{}),n.jsx(c,{})]})]})]})}},48026:(e,s,t)=>{"use strict";let{createProxy:n}=t(86843);e.exports=n("C:\\Users\\trist\\Moduloop\\Moduloop-TristanHourtoulle\\node_modules\\next\\dist\\client\\link.js")},90413:()=>{}};var s=require("../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),n=s.X(0,[638,973,722],()=>t(79544));module.exports=n})();