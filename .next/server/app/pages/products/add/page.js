(()=>{var e={};e.id=348,e.ids=[348],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},15673:e=>{"use strict";e.exports=require("node:events")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},47261:e=>{"use strict";e.exports=require("node:util")},21112:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>u,routeModule:()=>x,tree:()=>c});var s=r(50482),o=r(69108),a=r(62563),i=r.n(a),n=r(68300),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(t,l);let c=["",{children:["pages",{children:["products",{children:["add",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,59323)),"C:\\Users\\trist\\Moduloop\\Moduloop-TristanHourtoulle\\app\\pages\\products\\add\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,9295)),"C:\\Users\\trist\\Moduloop\\Moduloop-TristanHourtoulle\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],u=["C:\\Users\\trist\\Moduloop\\Moduloop-TristanHourtoulle\\app\\pages\\products\\add\\page.tsx"],d="/pages/products/add/page",p={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/pages/products/add/page",pathname:"/pages/products/add",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},63358:(e,t,r)=>{Promise.resolve().then(r.bind(r,63085)),Promise.resolve().then(r.bind(r,41827))},12909:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(95344);r(3729);var o=r(89410);let a=()=>s.jsx("div",{className:"flex items-center justify-center my-auto",children:s.jsx(o.default,{src:"/icons/logoImage.svg",alt:"Loader",width:50,height:50,className:"loader"})})},41827:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Title:()=>n});var s=r(95344),o=r(89410),a=r(8428),i=r(3729);let n=e=>{let[t,r]=(0,i.useState)(e.number||""),[n,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(""),[d,p]=(0,i.useState)(!1),x=(0,a.useRouter)();d||"/pages/projects"!==e.back||(u("/api/project"),p(!0)),(0,i.useEffect)(()=>{void 0!==e.number?r(e.number||""):null===e.number&&r("")},[e.number]);let m=async()=>{try{let r=`${c}?id=${e.id_project}&name=${t}`;if(!(await fetch(r,{method:"PUT"})).ok)throw alert("ERROR"),Error("Erreur lors de la modification du titre");l(!1)}catch(e){console.error(e),alert("Erreur lors de la modification du titre")}},h=()=>{r(e.number||""),l(!1)};return(0,s.jsxs)("div",{className:"flex ml-5 gap-5 items-center",children:[s.jsx("div",{className:"cursor-pointer",onClick:()=>{x.back()},children:s.jsx(o.default,{src:e.image,alt:"Page Logo",width:50,height:50,className:"object-contain title-image"})}),s.jsx("h1",{className:"page-title",children:e.title}),e.canChange&&(0,s.jsxs)("div",{className:"flex gap-5",children:[n?s.jsx("input",{onChange:e=>{r(e.target.value)},type:"text",className:"title-input",value:t}):s.jsx("p",{className:"page-number",children:t}),n?(0,s.jsxs)("div",{className:"flex",children:[s.jsx(o.default,{src:"/icons/valid\xe9.svg",alt:"Change",width:50,height:50,className:"cursor-pointer",onClick:()=>m()}),s.jsx(o.default,{src:"/icons/close.svg",alt:"Cancel",width:50,height:50,className:"cursor-pointer",onClick:()=>h()})]}):s.jsx(o.default,{src:"/icons/Edit.svg",alt:"Change",width:50,height:50,className:"cursor-pointer",onClick:()=>l(!n)})]}),!e.canChange&&s.jsx("p",{className:"page-number",children:e.number})]})}},63085:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(95344),o=r(3729),a=r(12909);async function i(e){try{let t=JSON.parse(e),r=await fetch("/api/product",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw console.log("ERROR: ",await r.text()),Error(await r.text());return await r.json(),{success:!0,message:"Data added"}}catch(e){return{success:!1,message:e.message}}}function n(){let[e,t]=(0,o.useState)(null),[r,n]=(0,o.useState)(!1),l=async t=>{if(n(!0),t.preventDefault(),e)try{let t=new FormData;t.set("file",e);let r=await fetch("/api/upload",{method:"POST",body:t});if(!r.ok)throw Error(await r.text());let s=await r.json();if(!s.success)return n(!1),"KO: "+s.message;await i(s.data),n(!1),window.location.href="/pages/products"}catch(e){n(!1),console.log("ERROR: ",e),alert("ERROR: "+e)}};return r?s.jsx(a.Z,{}):(0,s.jsxs)("form",{onSubmit:l,children:[s.jsx("input",{type:"file",name:"file",onChange:e=>t(e.target.files?.[0])}),s.jsx("input",{type:"submit",value:"Upload"})]})}},59323:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var s=r(25036);r(40002);var o=r(86843);let a=(0,o.createProxy)(String.raw`C:\Users\trist\Moduloop\Moduloop-TristanHourtoulle\app\components\Title.tsx`),{__esModule:i,$$typeof:n}=a;a.default;let l=(0,o.createProxy)(String.raw`C:\Users\trist\Moduloop\Moduloop-TristanHourtoulle\app\components\Title.tsx#Title`),c=(0,o.createProxy)(String.raw`C:\Users\trist\Moduloop\Moduloop-TristanHourtoulle\app\components\products\UploadMaj.tsx`),{__esModule:u,$$typeof:d}=c,p=c.default;function x(){return(0,s.jsxs)("div",{children:[s.jsx(l,{title:"Mettre \xe0 jour vos produits",image:"/icons/close.svg",number:null,back:"/pages/products",canChange:!1}),(0,s.jsxs)("div",{className:"flex flex-col items-center add-product-card ml-auto mr-auto mt-10",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center tutoriel",children:[s.jsx("p",{children:"Pour mettre \xe0 jour vos produits, veuillez vous r\xe9f\xe9rer \xe0 ce tutoriel:"}),s.jsx("button",{type:"button",children:"Tutoriel"})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center upload",children:[s.jsx("p",{children:"Ensuite, uploader votre fichier ici:"}),s.jsx(p,{})]})]})]})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,973,397,302],()=>r(21112));module.exports=s})();